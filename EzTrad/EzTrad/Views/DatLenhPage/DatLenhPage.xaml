<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="EzTrad.Views.DatLenhPage.DatLenhPage"
             Title="Đặt lệnh"
             BackgroundColor="White"
             xmlns:local="clr-namespace:EzTrad.CustomLayout">
    <ContentPage.Resources>
        <ResourceDictionary>
            <Style TargetType="ImageButton">
                <Setter Property="BackgroundColor" Value="Transparent"/>
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>
    <ContentPage.ToolbarItems>
        <ToolbarItem IconImageSource="chart.png"/>
    </ContentPage.ToolbarItems>
    <ContentPage.Content>
        <StackLayout>
            <StackLayout Orientation="Horizontal" Padding="0" Spacing="5" Margin="20,10,0,0">
                <Label Text="{Binding LbTienOrCK}" 
                HorizontalOptions="Start" FontSize="15" TextColor="#2794ff"/>
                <Label Text="{Binding LbTongTaiSan}" TextColor="#0079fe" FontAttributes="Bold"/>
            </StackLayout>
            
            <Grid ColumnDefinitions="*,*" Margin="10,10,10,0" ColumnSpacing="10">
                <Frame BorderColor="#c5c5c5" Grid.Column="0" HeightRequest="40" Padding="0">
                    <StackLayout Orientation="Horizontal" Spacing="0">
                        <local:CustomEntry BackgroundColor="Transparent" Placeholder="Mã" 
                                           HorizontalOptions="Center" WidthRequest="150"
                                           HorizontalTextAlignment="Center" Text="{Binding TxtMa}" TextChanged="txt_name_TextChanged"/>
                        <ImageButton Source="cancel.png" HorizontalOptions="EndAndExpand" 
                                     BackgroundColor="Transparent" Margin="0,12,12,12"
                                     Command="{Binding CancelCommand}"/>
                    </StackLayout>
                </Frame>
                <Grid Grid.Column="1" BackgroundColor="#808080">
                    <Label Text="Số dư CK" FontSize="17" TextColor="White" HorizontalOptions="Center" VerticalOptions="CenterAndExpand"/>
                </Grid>
            </Grid>
            <Label Text="{Binding Path=Company.Name}" FontSize="17" TextColor="#0673ff" HorizontalOptions="CenterAndExpand" 
                   Margin="10,10,10,10" x:Name="txtName"/>
            <Grid ColumnDefinitions="*,*,*,*,*,*" ColumnSpacing="5" Margin="10,0,10,0">
                <StackLayout Grid.Column="0" BackgroundColor="#4d4d4d" HeightRequest="50" VerticalOptions="Center" Spacing="0">
                    <Label Text="Trần" TextColor="White" FontSize="18" 
                           FontAttributes="None" HorizontalTextAlignment="Center"/>
                    <Label Text="{Binding Path=Company.PriceTran}" TextColor="#ef2da8" HorizontalTextAlignment="Center"/>
                </StackLayout>
                <StackLayout Grid.Column="1" BackgroundColor="#4d4d4d" HeightRequest="50" Spacing="0">
                    <Label Text="TC" TextColor="White" FontSize="18" HorizontalTextAlignment="Center"/>
                    <Label Text="{Binding Path=Company.PriceTC}" TextColor="#eeff3e" HorizontalTextAlignment="Center"/>
                </StackLayout>
                <StackLayout Grid.Column="2" BackgroundColor="#4d4d4d" HeightRequest="50" Spacing="0">
                    <Label Text="Sàn" TextColor="White" FontSize="18" HorizontalTextAlignment="Center"/>
                    <Label Text="{Binding Path=Company.PriceSan}" TextColor="#08b7fa" HorizontalTextAlignment="Center"/>
                </StackLayout>
                <StackLayout Grid.Column="3" BackgroundColor="#4d4d4d" HeightRequest="50" Spacing="0">
                    <Label Text="Mua 1" TextColor="White" FontSize="18" HorizontalTextAlignment="Center"/>
                    <Label Text="{Binding Path=Company.PriceMua}" TextColor="#ff3662" HorizontalTextAlignment="Center"/>
                </StackLayout>
                <StackLayout Grid.Column="4" BackgroundColor="#4d4d4d" HeightRequest="50" Spacing="0">
                    <Label Text="Khớp" TextColor="White" FontSize="18" HorizontalTextAlignment="Center"/>
                    <Label Text="{Binding Path=Company.PriceKhop}" TextColor="#eeff3e" HorizontalTextAlignment="Center"/>
                </StackLayout>
                <StackLayout Grid.Column="5" BackgroundColor="#4d4d4d" HeightRequest="50" Spacing="0">
                    <Label Text="Bán 1" TextColor="White" FontSize="18" HorizontalTextAlignment="Center"/>
                    <Label Text="{Binding Path=Company.PriceBan}" TextColor="#eeff3e" HorizontalTextAlignment="Center"/>
                </StackLayout>
            </Grid>
            <Grid ColumnDefinitions="*,*" ColumnSpacing="10" Margin="10,10,10,0">
                <Label Text="Mua/Ban" Grid.Column="0" VerticalTextAlignment="Center" FontSize="16" TextColor="Black"/>
                <Grid ColumnDefinitions="*,4*,*" Grid.Column="1" BackgroundColor="#c9c9c9" HeightRequest="35">
                    <ImageButton Source="back.png" Grid.Column="0" Margin="0,10,0,10" Command="{Binding MuaBanCommand}" BackgroundColor="#c9c9c9"/>
                    <Label Text="{Binding MuaBanString}" Grid.Column="1" VerticalTextAlignment="Center" HorizontalTextAlignment="Center" 
                           TextColor="{Binding ColorOfPurchase}" FontSize="20" FontAttributes="Bold"/>
                    <ImageButton Source="nextBasic.png" Grid.Column="2" Margin="0,10,0,10" Command="{Binding MuaBanCommand}" BackgroundColor="#c9c9c9"/>
                </Grid>
            </Grid>
            <Grid ColumnDefinitions="*,*" ColumnSpacing="10" Margin="10,10,10,0">
                <Label Text="Loại GD" Grid.Column="0" VerticalTextAlignment="Center" FontSize="16" TextColor="Black"/>
                <Grid ColumnDefinitions="*,4*,*" Grid.Column="1" BackgroundColor="#c9c9c9" HeightRequest="35">
                    <ImageButton Source="back.png" Grid.Column="0" Margin="0,10,0,10"/>
                    <Label Text="Thường" Grid.Column="1" VerticalTextAlignment="Center" HorizontalTextAlignment="Center" 
                           TextColor="Black" FontSize="16" FontAttributes="None"/>
                    <ImageButton Source="nextBasic.png" Grid.Column="2" Margin="0,10,0,10"/>
                </Grid>
            </Grid>
            <Grid ColumnDefinitions="*,*" ColumnSpacing="10" Margin="10,10,10,0" HeightRequest="35">
                <Grid Grid.Column="0" ColumnDefinitions="2*,*,*">
                    <Label Text="Khối lượng" VerticalTextAlignment="Center" FontSize="16" TextColor="Black" Grid.Column="0"/>
                    <Label Text="{Binding LbKLMax}" Grid.Column="1" BackgroundColor="#808080" TextColor="White" FontSize="13" VerticalTextAlignment="Center"/>
                </Grid>
                <Frame BorderColor="#c5c5c5" Grid.Column="1" Padding="0" HasShadow="False">
                    <Grid ColumnDefinitions="*,4*,*">
                        <ImageButton Source="minus.png" Grid.Column="0" Margin="0,10,0,10" BackgroundColor="White"/>
                        <ImageButton Source="plus.png" Grid.Column="2" Margin="0,10,0,10" BackgroundColor="White"/>
                    </Grid>
                </Frame>
            </Grid>
            <Grid ColumnDefinitions="*,*" ColumnSpacing="10" Margin="10,10,10,0" HeightRequest="35">
                <Label Text="Giá" Grid.Column="0" VerticalTextAlignment="Center" FontSize="16" TextColor="Black"/>
                <Frame BorderColor="#c5c5c5" Grid.Column="1" Padding="0" HasShadow="False">
                    <Grid ColumnDefinitions="*,4*,*">
                        <ImageButton Source="minus.png" Grid.Column="0" Margin="0,10,0,10" Command="{Binding MinusGiaCommand}" BackgroundColor="White"/>
                        <local:CustomEntry Text="{Binding TxtGia}" Grid.Column="1" HorizontalTextAlignment="Center" Keyboard="Numeric"/>
                        <ImageButton Source="plus.png" Grid.Column="2" Margin="0,10,0,10" Command="{Binding PlusGiaCommand}" BackgroundColor="White"/>
                    </Grid>
                </Frame>
            </Grid>
            <Grid Margin="20,10,20,0" ColumnDefinitions="*,*,*,*" ColumnSpacing="20" HeightRequest="35" IsVisible="{Binding IsShowMenuGia}">
                <Button Text="LO" Grid.Column="0" Margin="10,0,10,0" BackgroundColor="#4d4d4d" 
                        TextColor="{Binding ColorOfLO}" Command="{Binding LOCommand}"/>
                <Button Text="ATO" Grid.Column="1" Margin="10,0,10,0" BackgroundColor="#4d4d4d"
                        Command="{Binding ATOCommand}" TextColor="{Binding ColorOfATO}"/>
                <Button Text="MP" Grid.Column="2" Margin="10,0,10,0" BackgroundColor="#4d4d4d"
                        Command="{Binding MPCommand}" TextColor="{Binding ColorOfMP}"/>
                <Button Text="ATC" Grid.Column="3" Margin="10,0,10,0" BackgroundColor="#4d4d4d"
                        Command="{Binding ATCCommand}" TextColor="{Binding ColorOfATC}"/>
            </Grid>
            <Label Text="Tiền treo gốc:" TextColor="#0673ff" Margin="10,0,0,0" FontSize="15"/>
            <Grid ColumnDefinitions="*,*" ColumnSpacing="10" Margin="10,10,10,0" HeightRequest="40">
                <Label Text="Mật khẩu giao dịch" Grid.Column="0" VerticalTextAlignment="Center" FontSize="16" TextColor="Black"/>
                <Frame BorderColor="#c5c5c5" Grid.Column="1" Padding="0">
                    <Grid ColumnDefinitions="4*,*">
                        <local:CustomEntry Grid.Column="0" IsPassword="True" Placeholder="***" VerticalOptions="CenterAndExpand" HorizontalTextAlignment="Center"/>
                        <ImageButton Source="noSee.png" Grid.Column="1" Margin="10,0,10,0"/>
                    </Grid>
                    
                </Frame>
            </Grid>
            <Button HorizontalOptions="Center" TextColor="White"
                    BackgroundColor="{Binding ColorOfBtnXacNhan}" CornerRadius="30" WidthRequest="200" Margin="0,10,0,0"
                    Opacity="{Binding OpacityValue}" IsEnabled="{Binding StatusOfXacNhan}"
                    FontAttributes="Bold" Text="{Binding StringOfXacNhanBtn}"/>
            <!--<Button.Triggers>
                <DataTrigger TargetType="Button"
                                 Binding="{Binding ColorOfBtnXacNhan}"
                                 Value="#e18b8e">
                    <Setter Property="Text" Value="Xac nhan ban"/>
                    <Setter Property="TextColor" Value="White"/>
                </DataTrigger>
            </Button.Triggers>-->
        </StackLayout>
    </ContentPage.Content>
</ContentPage>